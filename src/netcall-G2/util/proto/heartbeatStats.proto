syntax = "proto2";
  message WebrtcStats{
    optional local_obj local=1;
    optional remote_obj remote=2;
    optional int64 timestamp=3;
    optional string appkey=4;
    optional int64 cid=5;
    //number存在精准度缺失问题，改为string格式
    optional string uid=6; 
    optional string browser=7;
    optional string platform=8;
    optional string sdkVersion=9;
    message local_obj{
      repeated audio_ssrc_obj audio_ssrc=1;
      repeated audioSlave_ssrc_obj audioSlave_ssrc=2;
      repeated video_ssrc_obj video_ssrc=3;
      repeated screen_ssrc_obj screen_ssrc=4;
      repeated bwe_obj bwe=5;

      message audio_ssrc_obj{
        optional int64 audioInputLevel=1;
        optional int64 totalAudioEnergy=2;
        optional int64 totalSamplesDuration=3;
        optional int64 bytesSent=4;
        optional int64 bitsSentPerSecond=5;
        optional int64 targetBitrate=6;
        optional int64 packetsSent=7;
        optional int64 packetsSentPerSecond=8;
        optional int64 packetsLost=9;
        optional int64 fractionLost=10;
        optional int64 packetsLostRate=11;
        optional int64 nackCount=12;
        optional int64 rtt=13;
        optional int64 jitterReceived=14;
        optional string echoReturnLoss=15;
        optional string echoReturnLossEnhancement=16;
        optional int64 active=17;
      }

      message audioSlave_ssrc_obj{
        optional int64 audioInputLevel=1;
        optional int64 totalAudioEnergy=2;
        optional int64 totalSamplesDuration=3;
        optional int64 bytesSent=4;
        optional int64 bitsSentPerSecond=5;
        optional int64 targetBitrate=6;
        optional int64 packetsSent=7;
        optional int64 packetsSentPerSecond=8;
        optional int64 packetsLost=9;
        optional int64 fractionLost=10;
        optional int64 packetsLostRate=11;
        optional int64 nackCount=12;
        optional int64 rtt=13;
        optional int64 jitterReceived=14;
        optional string echoReturnLoss=15;
        optional string echoReturnLossEnhancement=16;
        optional int64 active=17;
      }

      message video_ssrc_obj{
        optional int64 bytesSent=1;
        optional int64 bitsSentPerSecond=2;
        optional int64 targetBitrate=3;
        optional int64 packetsSent=4;
        optional int64 packetsSentPerSecond=5;
        optional int64 packetsLost=6;
        optional int64 fractionLost=7;
        optional int64 packetsLostRate=8;
        optional int64 firCount=9;
        optional int64 pliCount=10;
        optional int64 nackCount=11;
        optional int64 framesEncoded=12;
        optional int64 framesEncodedPerSecond=13;
        optional int64 avgEncodeMs=14;
        optional int64 encodeUsagePercent=15;
        optional int64 framesSent=16;
        optional int64 frameRateInput=17;
        optional int64 frameRateSent=18;
        optional int64 frameWidthInput=19;
        optional int64 frameWidthSent=20;
        optional int64 frameHeightInput=21;
        optional int64 frameHeightSent=22;
        optional int64 hugeFramesSent=23;
        optional int64 qpSum=24;
        optional int64 qpPercentage=25;
        optional int64 freezeTime=26;
        optional int64 totalFreezeTime=27;
        optional string qualityLimitationReason=28;
        optional int64 qualityLimitationResolutionChanges=29;
        optional int64 jitter=30;
        optional int64 rtt=31;
        optional int64 active=32;
        optional string streamType=33;
      }

      message screen_ssrc_obj{
        optional int64 bytesSent=1;
        optional int64 bitsSentPerSecond=2;
        optional int64 targetBitrate=3;
        optional int64 packetsSent=4;
        optional int64 packetsSentPerSecond=5;
        optional int64 packetsLost=6;
        optional int64 fractionLost=7;
        optional int64 packetsLostRate=8;
        optional int64 firCount=9;
        optional int64 pliCount=10;
        optional int64 nackCount=11;
        optional int64 framesEncoded=12;
        optional int64 framesEncodedPerSecond=13;
        optional int64 avgEncodeMs=14;
        optional int64 encodeUsagePercent=15;
        optional int64 framesSent=16;
        optional int64 frameRateInput=17;
        optional int64 frameRateSent=18;
        optional int64 frameWidthInput=19;
        optional int64 frameWidthSent=20;
        optional int64 frameHeightInput=21;
        optional int64 frameHeightSent=22;
        optional int64 hugeFramesSent=23;
        optional int64 qpSum=24;
        optional int64 qpPercentage=25;
        optional int64 freezeTime=26;
        optional int64 totalFreezeTime=27;
        optional string qualityLimitationReason=28;
        optional int64 qualityLimitationResolutionChanges=29;
        optional int64 jitter=30;
        optional int64 rtt=31;
        optional int64 active=32;
        optional string streamType=33;
      }


      message bwe_obj{
        optional int64 googActualEncBitrate=1;
        optional int64 googAvailableSendBandwidth=2;
        optional int64 googRetransmitBitrate=3;
        optional int64 googAvailableReceiveBandwidth=4;
        optional int64 googTargetEncBitrate=5;
        optional int64 googBucketDelay=6;
        optional int64 googTransmitBitrate=7;
      }
    }

    message remote_obj{
      repeated audio_ssrc_obj audio_ssrc=1;
      repeated audioSlave_ssrc_obj audioSlave_ssrc=2;
      repeated video_ssrc_obj video_ssrc=3;
      repeated screen_ssrc_obj screen_ssrc=4;
      message audio_ssrc_obj{
        optional int64 audioOutputLevel=1;
        optional int64 totalAudioEnergy=2;
        optional int64 totalSamplesDuration=3;
        optional int64 bytesReceived=4;
        optional int64 bitsReceivedPerSecond=5;
        optional int64 packetsReceived=6;
        optional int64 packetsReceivedPerSecond=7;
        optional int64 packetsLost=8;
        optional int64 packetsLostRate=9;
        optional int64 nackCount=10;
        optional int64 lastPacketReceivedTimestamp=11;
        optional int64 estimatedPlayoutTimestamp=12;
        optional int64 freezeTime=13;
        optional int64 totalFreezeTime=14;
        optional int64 decodingPLC=15;
        optional int64 decodingPLCCNG=16;
        optional int64 decodingNormal=17;
        optional int64 decodingMuted=18;
        optional int64 decodingCNG=19;
        optional int64 decodingCTN=20;
        optional int64 currentDelayMs=21;
        optional int64 preferredJitterBufferMs=22;
        optional int64 jitterBufferMs=23;
        optional int64 jitterBufferDelay=24;
        optional int64 jitter=25;
        optional int64 rtt=26;
        optional int64 preemptiveExpandRate=27;
        optional int64 speechExpandRate=28;
        optional int64 concealedSamples=29;
        optional int64 silentConcealedSamples=30;
        optional int64 secondaryDecodedRate=31;
        optional int64 secondaryDiscardedRate=32;
        optional string uid=33;
      }

      message audioSlave_ssrc_obj{
        optional int64 audioOutputLevel=1;
        optional int64 totalAudioEnergy=2;
        optional int64 totalSamplesDuration=3;
        optional int64 bytesReceived=4;
        optional int64 bitsReceivedPerSecond=5;
        optional int64 packetsReceived=6;
        optional int64 packetsReceivedPerSecond=7;
        optional int64 packetsLost=8;
        optional int64 packetsLostRate=9;
        optional int64 nackCount=10;
        optional int64 lastPacketReceivedTimestamp=11;
        optional int64 estimatedPlayoutTimestamp=12;
        optional int64 freezeTime=13;
        optional int64 totalFreezeTime=14;
        optional int64 decodingPLC=15;
        optional int64 decodingPLCCNG=16;
        optional int64 decodingNormal=17;
        optional int64 decodingMuted=18;
        optional int64 decodingCNG=19;
        optional int64 decodingCTN=20;
        optional int64 currentDelayMs=21;
        optional int64 preferredJitterBufferMs=22;
        optional int64 jitterBufferMs=23;
        optional int64 jitterBufferDelay=24;
        optional int64 jitter=25;
        optional int64 rtt=26;
        optional int64 preemptiveExpandRate=27;
        optional int64 speechExpandRate=28;
        optional int64 concealedSamples=29;
        optional int64 silentConcealedSamples=30;
        optional int64 secondaryDecodedRate=31;
        optional int64 secondaryDiscardedRate=32;
        optional string uid=33;
      }

      message video_ssrc_obj{
        optional int64 bytesReceived=1;
        optional int64 bitsReceivedPerSecond=2;
        optional int64 packetsReceived=3;
        optional int64 packetsReceivedPerSecond=4;
        optional int64 packetsLost=5;
        optional int64 packetsLostRate=6;
        optional int64 firCount=7;
        optional int64 pliCount=8;
        optional int64 nackCount=9;
        optional int64 lastPacketReceivedTimestamp=10;
        optional int64 estimatedPlayoutTimestamp=11;
        optional int64 pauseCount=12;
        optional int64 totalPausesDuration=13;
        optional int64 freezeCount=14;
        optional int64 totalFreezesDuration=15;
        optional int64 totalFreezeTime=16;
        optional int64 freezeTime=17;
        optional int64 framesDecoded=18;
        optional int64 framesDropped=19;
        optional int64 framesReceived=20;
        optional int64 decodeMs=21;
        optional int64 frameRateDecoded=22;
        optional int64 frameRateOutput=23;
        optional int64 frameRateReceived=24;
        optional int64 frameWidthReceived=25;
        optional int64 frameHeightReceived=26;
        optional int64 powerEfficientDecoder=27;
        optional int64 currentDelayMs=28;
        optional int64 jitterBufferDelay=29;
        optional string uid=30;
      }

      message screen_ssrc_obj{
        optional int64 bytesReceived=1;
        optional int64 bitsReceivedPerSecond=2;
        optional int64 packetsReceived=3;
        optional int64 packetsReceivedPerSecond=4;
        optional int64 packetsLost=5;
        optional int64 packetsLostRate=6;
        optional int64 firCount=7;
        optional int64 pliCount=8;
        optional int64 nackCount=9;
        optional int64 lastPacketReceivedTimestamp=10;
        optional int64 estimatedPlayoutTimestamp=11;
        optional int64 pauseCount=12;
        optional int64 totalPausesDuration=13;
        optional int64 freezeCount=14;
        optional int64 totalFreezesDuration=15;
        optional int64 totalFreezeTime=16;
        optional int64 freezeTime=17;
        optional int64 framesDecoded=18;
        optional int64 framesDropped=19;
        optional int64 framesReceived=20;
        optional int64 decodeMs=21;
        optional int64 frameRateDecoded=22;
        optional int64 frameRateOutput=23;
        optional int64 frameRateReceived=24;
        optional int64 frameWidthReceived=25;
        optional int64 frameHeightReceived=26;
        optional int64 powerEfficientDecoder=27;
        optional int64 currentDelayMs=28;
        optional int64 jitterBufferDelay=29;
        optional string uid=30;
      }
    }
  }
}
